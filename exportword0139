Message-ID: <1007066917.698.1413876294699.JavaMail.confluence@ip-10-127-227-192>
Subject: Exported From Confluence
MIME-Version: 1.0
Content-Type: multipart/related; 
	boundary="----=_Part_697_360124709.1413876294699"

------=_Part_697_360124709.1413876294699
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-Location: file:///C:/exported.html

<html xmlns:o=3D'urn:schemas-microsoft-com:office:office'
      xmlns:w=3D'urn:schemas-microsoft-com:office:word'
      xmlns:v=3D'urn:schemas-microsoft-com:vml'
      xmlns=3D'urn:w3-org-ns:HTML'>
<head>
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf-8=
">
    <title>eZ Publish 5 Architecture - Introduction &amp; Overview</title>
    <!--[if gte mso 9]>
    <xml>
        <o:OfficeDocumentSettings>
            <o:TargetScreenSize>1024x640</o:TargetScreenSize>
            <o:PixelsPerInch>72</o:PixelsPerInch>
            <o:AllowPNG/>
        </o:OfficeDocumentSettings>
        <w:WordDocument>
            <w:View>Print</w:View>
            <w:Zoom>90</w:Zoom>
            <w:DoNotOptimizeForBrowser/>
        </w:WordDocument>
    </xml>
    <![endif]-->
    <style>
                <!--
        @page Section1 {
            size: 8.5in 11.0in;
            margin: 1.0in;
            mso-header-margin: .5in;
            mso-footer-margin: .5in;
            mso-paper-source: 0;
        }

        td {
            page-break-inside: avoid;
        }

        tr {
            page-break-after: avoid;
        }

        div.Section1 {
            page: Section1;
        }

        /* Confluence print stylesheet. Common to all themes for print medi=
a */
/* Full of !important until we improve batching for print CSS */

#main {
    padding-bottom: 1em !important; /* The default padding of 6em is too mu=
ch for printouts */
}

body {
    font-family: Arial, Helvetica, FreeSans, sans-serif;
    font-size: 10pt;
    line-height: 1.2;
}

body, #full-height-container, #main, #page, #content, .has-personal-sidebar=
 #content {
    background: #fff    !important;
    color: #000         !important;
    border: 0           !important;
    width: 100%         !important;
    height: auto        !important;
    min-height: auto    !important;
    margin: 0           !important;
    padding: 0          !important;
    display: block      !important;
}

a, a:link, a:visited, a:focus, a:hover, a:active {
    color: #000;
}
#content h1,
#content h2,
#content h3,
#content h4,
#content h5,
#content h6 {
    font-family: Arial, Helvetica, FreeSans, sans-serif;
    page-break-after: avoid;
}
pre {
    font-family: Monaco, "Courier New", monospace;
}

#header,
.aui-header-inner,
#navigation,
#sidebar,
.sidebar,
#personal-info-sidebar,
.ia-fixed-sidebar,
.page-actions,
.navmenu,
.ajs-menu-bar,
.noprint,
.inline-control-link,
.inline-control-link a,
a.show-labels-editor,
.global-comment-actions,
.comment-actions,
.quick-comment-container,
#addcomment {
    display: none !important;
}

.comment .date::before {
    content: none !important; /* remove middot for print view */
}

h1.pagetitle img {
    height: auto;
    width: auto;
}

.print-only {
    display: block;
}
#footer {
    position: relative !important; /* CONF-17506 Place the footer at end of=
 the content */
    margin: 0;
    padding: 0;
    background: none;
    clear: both;
}

#poweredby {
    border-top: none;
    background: none;
}

#poweredby li.print-only {
    display: list-item;
    font-style: italic;
}

#poweredby li.noprint {
    display:none;
}


/* no width controls in print */
.wiki-content .table-wrap,
.wiki-content p,
.panel .codeContent,
.panel .codeContent pre,
.image-wrap {
    overflow: visible !important;
}

/* TODO - should this work? */
#children-section,
#comments-section .comment,
#comments-section .comment .comment-body,
#comments-section .comment .comment-content,
#comments-section .comment p {
    page-break-inside: avoid;
}

#page-children a {
    text-decoration: none;
}

/**
 hide twixies

 the specificity here is a hack because print styles
 are getting loaded before the base styles. */
#comments-section.pageSection .section-header,
#comments-section.pageSection .section-title,
#children-section.pageSection .section-header,
#children-section.pageSection .section-title,
.children-show-hide {
    padding-left: 0;
    margin-left: 0;
}

.children-show-hide.icon {
    display: none;
}

/* personal sidebar */
.has-personal-sidebar #content {
    margin-right: 0px;
}

.has-personal-sidebar #content .pageSection {
    margin-right: 0px;
}
-->
    </style>
</head>
<body>
    <h1>eZ Publish 5 Architecture - Introduction &amp; Overview</h1>
    <div class=3D"Section1">
        <p><span style=3D"color: rgb(0,0,0);text-decoration: none;">(Versio=
n : EZP &gt;=3D 5)<br /></span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">With the 5.0 re=
lease eZ Publish is making an important leap forwards in terms of technolog=
y.</span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;"><style type=3D"=
text/css">/*<![CDATA[*/
div.rbtoc1413876294643 {padding: 0px;}
div.rbtoc1413876294643 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1413876294643 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></span></p>
<div class=3D"toc-macro rbtoc1413876294643">=20
<ul class=3D"toc-indentation">=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-Whythischa=
ngeintechnology">Why this change in technology</a></li>=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-Whatarethe=
changes?">What are the changes?</a></li>=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-Whatwillbe=
gained?">What will be gained?</a>=20
<ul class=3D"toc-indentation">=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-Symfony2">=
Symfony2</a></li>=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-Twig">Twig=
</a></li>=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-Newstorage=
systems">New storage systems</a></li>=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-RestAPI">R=
est API</a></li>=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-PHPAPI">PH=
P API</a></li>=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-Compatibil=
itywiththelegacyarchitecture">Compatibility with the legacy architecture</a=
></li>=20
</ul> </li>=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-Understand=
ingthearchitectureinmoredetail">Understanding the architecture in more deta=
il</a>=20
<ul class=3D"toc-indentation">=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-Thetargeta=
rchitecture:&quot;eZPlatform&quot;">The target architecture: &quot;eZ Platf=
orm&quot;</a></li>=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-The&quot;r=
eal&quot;version5.xarchitecture:&quot;Legacy&quot;and&quot;Platform&quot;to=
gether">The &quot;real&quot; version 5.x architecture: &quot;Legacy&quot; a=
nd &quot;Platform&quot; together</a></li>=20
</ul> </li>=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-Summaryont=
hewaystouseeZPublish5">Summary on the ways to use eZ Publish 5</a>=20
<ul class=3D"toc-indentation">=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-UsingeZPub=
lish5infulllegacymode">Using eZ Publish 5 in full legacy mode</a></li>=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-Usingezpub=
lish5.0throughthelegacystackbutrelyingonthenewcontrollerandnewtemplatesyste=
maswellasthenewkernel.">Using ez publish 5.0 through the legacy stack but r=
elying on the new controller and new template system as well as the new ker=
nel.</a></li>=20
<li><a href=3D"#eZPublish5Architecture-Introduction&amp;Overview-Usingthebr=
andnew&quot;Platform&quot;architectureonly">Using the brand new &quot;Platf=
orm&quot;architecture only</a></li>=20
</ul> </li>=20
</ul>=20
</div>
<p></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;"><br />This docu=
ment will explain why <strong>we are renewing our technology platform</stro=
ng>, and to some degree explain what this <strong>evolution in architecture=
</strong> means to eZ Publish developers and users, and last but not least =
<strong>how eZ Systems is affected</strong> by these changes.</span></p>
<h2 id=3D"eZPublish5Architecture-Introduction&amp;Overview-Whythischangeint=
echnology"><span style=3D"color: rgb(0,0,0);text-decoration: none;">Why thi=
s change in technology</span></h2>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</span></=
p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">The background =
for the changes is to meet the challenges ahead:</span></p>
<ul>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">Customer and User Experience Management requirements<=
/span><span style=3D"color: rgb(0,0,0);text-decoration: none;">: beyond sim=
ple web content management, enable the building of any digital user experie=
nce</span></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">Performance and scalability</span><span style=3D"colo=
r: rgb(0,0,0);text-decoration: none;">: deliver on the ever increasing need=
 for performance and scalability</span></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">The big data situation:</span><span style=3D"color: r=
gb(0,0,0);text-decoration: none;">&nbsp; embrace big data situation as an o=
pportunity to build new digital services and not view it as a hurdle</span>=
</p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">Fulfill the multichannel vision</span><span style=3D"=
color: rgb(0,0,0);text-decoration: none;">: enable content to live in any s=
creen, any app, any device</span></p></li>
</ul>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">The overall goa=
l is <strong>to reach Digital Service Excellence</strong>, ie, we would lik=
e our partners to be able to offer the customers exactly what they want, wi=
thin acceptable timeframes and price tags on the eZ Publish Platform.</span=
></p>
<h2 id=3D"eZPublish5Architecture-Introduction&amp;Overview-Whatarethechange=
s?"><span style=3D"color: rgb(0,0,0);text-decoration: none;">What are the c=
hanges?</span></h2>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">eZ Systems is n=
ow introducing the following as the new &quot;Platform&quot;:</span></p>
<ul>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;"><strong>An extended and sustainable Public API</stron=
g>. This will speed up developments on the platform and improve their quali=
ty and maintainability both for eZ core developers and extension developers=
, which in turn will lead to more efficient implementation projects</span><=
/p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;"><strong>An improved REST API</strong> with read and w=
rite functionality and support all the core content management functionalit=
y. &nbsp;This way, eZ Publish will better integrate with any programming fr=
amework, for instance into mobile applications or any other web application=
. Better meaning faster and simpler. in order to fulfill the multichannel v=
ision and execute on the User Experience demands and needs of customers and=
 users of the eZ Publish platform</span></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">Introducing <strong>Symfony</strong> as the PHP frame=
work under the platform to make developers lives easier and to make develop=
ments on eZ Publish accessible for more developers to further support innov=
ation in eZ Publish</span></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">Introducing <strong>Twig as the template engine</stro=
ng> to simplify working with templates in eZ Publish. And as a standard tem=
plate engine this will also make eZ Publish templating accessible to more d=
evelopers</span></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">Introducing<strong> a new storage system</strong> for=
 scalability, performance and maintainability reasons</span></p></li>
</ul>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">And as a result=
 of all these changes, a major last item is</span></p>
<ul>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">&nbsp;</span><span style=3D"color: rgb(0,0,0);text-de=
coration: none;">Introducing <strong>a backward compatibility</strong> betw=
een the new <em>&quot;Platform&quot;</em> architecture resulting from the a=
bove and the <em>&quot;legacy&quot;</em> architecture as known in eZ Publis=
h 4.x</span></p></li>
</ul>
<h2 id=3D"eZPublish5Architecture-Introduction&amp;Overview-Whatwillbegained=
?"><span style=3D"color: rgb(0,0,0);text-decoration: none;">What will be ga=
ined?</span></h2>
<h3 id=3D"eZPublish5Architecture-Introduction&amp;Overview-Symfony2"><span =
style=3D"color: rgb(0,0,0);text-decoration: none;">Symfony2</span></h3>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">With <a href=3D=
"http://symfony.com/" class=3D"external-link" rel=3D"nofollow">Symfony</a> =
as the web framework eZ Publish will be more accessible. Thanks to the fram=
ework, it will be used for instance to extend eZ Publish applications with =
new features, potentially not based at all on the content repository (for e=
xample, business specific application logic) using a standard PHP framework=
 and a very clean application design with minimum interlocking with eZ Publ=
ish itself.</span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</span></=
p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">Any developer k=
nowing Symfony will then be able to easily develop <a href=3D"/display/EZP/=
Extensions">eZ Publish Bundles</a> <span style=3D"color: rgb(0,0,0);text-de=
coration: none;">the equivalent of eZ Publish legacy extensions.</span><br =
/></span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">This will cater=
 for :</span></p>
<ul>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">&nbsp;</span><span style=3D"color: rgb(0,0,0);text-de=
coration: none;">a better quality of the code</span></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">&nbsp;</span><span style=3D"color: rgb(0,0,0);text-de=
coration: none;">a lower entry point to do developments in eZ Publish</span=
></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">&nbsp;</span><span style=3D"color: rgb(0,0,0);text-de=
coration: none;">more innovation faster since more developers will use a st=
andard PHP framework</span></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">&nbsp;</span><span style=3D"color: rgb(0,0,0);text-de=
coration: none;">Symfony has an open-source community that will help develo=
pers</span></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">&nbsp;</span><span style=3D"color: rgb(0,0,0);text-de=
coration: none;">Symfony is commercially backed up, so they are in it for t=
he long run and Sensio Lab (maker of Symfony) will naturally extend the eZ =
offering to the framework level if need be.</span><span style=3D"color: rgb=
(0,0,0);text-decoration: none;">&nbsp;</span></p></li>
</ul>
<h3 id=3D"eZPublish5Architecture-Introduction&amp;Overview-Twig"><span styl=
e=3D"color: rgb(0,0,0);text-decoration: none;">Twig</span></h3>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">Initially, eZ S=
ystems has developed its own templating engine. eZ has also worked and rede=
veloped a second one at some point as part of the eZ Component project. Whe=
n designing eZ Publish 5, we knew the old template engine was not good enou=
gh anymore and needed to be replaced. We knew the eZ Components template en=
gine we contributed and originated was an option, but we decided to go for =
another one: <a href=3D"http://twig.sensiolabs.org/" class=3D"external-link=
" rel=3D"nofollow">Twig</a>. Reasons are multiple: quality of course (even =
if the eZ components one was also very high quality), integration and cohes=
ion to use it with the Symfony stack and finally again the strength and siz=
e of the community using it today. Symfony has developed Twig as a standard=
 template engine, and eZ Systems is using it to further the following:</spa=
n></p>
<ul>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">to update the legacy template engine</span></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">to simplify template coding in eZ Publish</span></p><=
/li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">to have faster page rendering</span></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">to benefit of more features which were not in the ori=
ginal engine</span></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">to make extension developments easier to speed up inn=
ovation in eZ Publish</span><br /><span style=3D"color: rgb(0,0,0);text-dec=
oration: none;">&nbsp;</span></p></li>
</ul>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">This is a move =
that will influence every stakeholder in the eZ Publish development. As dev=
elopers will implement faster, this also mean project will significantly im=
prove in total cost of ownership as well as in <strong>time to market</stro=
ng>.</span><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;<=
/span></p>
<h3 id=3D"eZPublish5Architecture-Introduction&amp;Overview-Newstoragesystem=
s"><span style=3D"color: rgb(0,0,0);text-decoration: none;">New storage sys=
tems</span></h3>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">In order to mee=
t performance and scalability requirements in the future, eZ introduces new=
 storage systems with the version 5 serie. </span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">In 5.0, this st=
orage system lives beside the legacy storage system and data model, but wil=
l use the new API to access the data. </span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">Also in 5.0 ver=
sion, this new storage engine only support MySQL relational database, never=
theless it is designed to allow the development of drivers for other storag=
e engines through the Persistence SPI (service provider interface) and in t=
he future will include drivers for NoSQL and Document based storage engine.=
 </span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">The ultimate go=
al is to open for custom storage developments. </span></p>
<h3 id=3D"eZPublish5Architecture-Introduction&amp;Overview-RestAPI"><span s=
tyle=3D"color: rgb(0,0,0);text-decoration: none;">Rest API</span></h3>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">In order to mee=
t all multi-channel requirements we are developing a <a href=3D"/display/EZ=
P/eZ+Publish+REST+API">Rest API</a> that cover all core feature of content =
management so we can integrate with any application on any channel in any p=
rogramming language. <br />The gain for users will be for anyone integratin=
g eZ Publish with other applications, not only the development will be sign=
ificantly improved but more importantly, the value of an API also lies in t=
he <strong>maintainability and sustainability</strong> it offers. the new r=
est api is designed to stay and will remain identical in all future 5.x ver=
sion. this means that development done on top of the api will seamlessly su=
pport eZ Publish version upgrades.</span></p>
<h3 id=3D"eZPublish5Architecture-Introduction&amp;Overview-PHPAPI"><span st=
yle=3D"color: rgb(0,0,0);text-decoration: none;">PHP API</span></h3>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">The PHP API, al=
so called <a href=3D"/display/EZP/Public+API+basics">Public API</a>, is the=
 development glue and will a create shield between internal and external de=
velopments on eZ Publish. This will cater for an easier maintainability of =
code and speed up the performance of eZ Publish. PHP developers will experi=
ence a better extensibility which in turn &nbsp;will enable them to create =
extensions to eZ Publish faster and easier.</span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">The <span style=
=3D"color: rgb(0,0,0);text-decoration: none;"><a href=3D"/display/EZP/Publi=
c+API+basics">Public API</a></span> is key to development speed, shorter pr=
ojects and better quality. Important to be noted: the php api is the founda=
tion for the rest api and the second is naturally relying on the first.<br =
/></span></p>
<h3 id=3D"eZPublish5Architecture-Introduction&amp;Overview-Compatibilitywit=
hthelegacyarchitecture"><span style=3D"color: rgb(0,0,0);text-decoration: n=
one;">Compatibility with the legacy architecture</span></h3>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">When we introdu=
ce changes of this magnitude, eZ Systems as an international software house=
 must also consider the reality of the installed customer base. Every insta=
llation must be able to take care of the old and create on the new architec=
ture. <br />The reason for change is of course to be able to meet new requi=
rements and the need to enable progressive changes.</span><span style=3D"co=
lor: rgb(0,0,0);text-decoration: none;">&nbsp;</span></p>
<h2 id=3D"eZPublish5Architecture-Introduction&amp;Overview-Understandingthe=
architectureinmoredetail"><span style=3D"color: rgb(0,0,0);text-decoration:=
 none;">Understanding the architecture in more detail</span></h2>
<h3 id=3D"eZPublish5Architecture-Introduction&amp;Overview-Thetargetarchite=
cture:&quot;eZPlatform&quot;"><span style=3D"color: rgb(0,0,0);text-decorat=
ion: none;">The target architecture: &quot;eZ Platform&quot;</span></h3>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">The first impor=
tant thing to understand about the new architecture is to explain it standa=
lone, without considering the old legacy architecture. </span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">The following d=
iagram shows a simplistic view of this new architecture.</span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</span><i=
mg class=3D"confluence-embedded-image confluence-external-resource" width=
=3D"500" src=3D"https://lh5.googleusercontent.com/HxSTBlMNSYkYyQxVCgj_zhHlE=
cl_YbKv14x8B65gZ1D8ROJilIQqk5zfblgJr4-EQOD5RCB5T_tMF1V7aNCQ0wOlTgugHLl8e1gS=
VEURJMvhqGecjvzx" data-image-src=3D"https://lh5.googleusercontent.com/HxSTB=
lMNSYkYyQxVCgj_zhHlEcl_YbKv14x8B65gZ1D8ROJilIQqk5zfblgJr4-EQOD5RCB5T_tMF1V7=
aNCQ0wOlTgugHLl8e1gSVEURJMvhqGecjvzx" /><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">&nbsp;</span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">The new archite=
cture is layered and uses clearly defined API=E2=80=99s between the layers.=
</span></p>
<ul>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">The <strong>business logic</strong> is defined in a n=
ew kernel. This business logic is exposed to applications via an API (the <=
span style=3D"color: rgb(0,0,0);text-decoration: none;"><span style=3D"colo=
r: rgb(0,0,0);text-decoration: none;"><a href=3D"/display/EZP/Public+API+ba=
sics">Public API</a></span></span>). Developers rely on this to develop web=
sites and web applications using Symfony to organize the way they develop t=
he user interface layer. </span></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">User interfaces are developed using the Twig template=
 engine but directly querying the <span style=3D"color: rgb(0,0,0);text-dec=
oration: none;"><span style=3D"color: rgb(0,0,0);text-decoration: none;"><a=
 href=3D"/display/EZP/Public+API+basics">Public API</a></span></span>.</spa=
n></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">Integration of eZ Publish in other applications are d=
one using the <span style=3D"color: rgb(0,0,0);text-decoration: none;"><a h=
ref=3D"/display/EZP/eZ+Publish+REST+API">Rest API</a></span>, which itself =
relies also on the <span style=3D"color: rgb(0,0,0);text-decoration: none;"=
><span style=3D"color: rgb(0,0,0);text-decoration: none;"><a href=3D"/displ=
ay/EZP/Public+API+basics">Public API</a></span></span>.</span></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">finally development of extensions of eZ Publish is do=
ne using the Symfony framework when it comes to the structure of the code, =
and once again relying on the Public API when it comes to accessing content=
 management functions</span></p></li>
</ul>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">To a lower leve=
l, the new architecture also totally redefined the way the system store dat=
a. while this is not finalized in version 5.0 (where the new storage system=
 is only shipped with MySQL support), the architecture, when finalized will=
 rely on a storage API that will be used to develop drivers to any kind of =
storage subsystem.</span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">A motto for thi=
s new architecture is to <strong>heavily use APIs</strong> that will be mai=
ntained on the long term to <strong>ease upgrades and provide lossless coup=
lings</strong> between each part of the architecture, improving the migrati=
on capabilities of the system at the same time. </span></p>
<h3 id=3D"eZPublish5Architecture-Introduction&amp;Overview-The&quot;real&qu=
ot;version5.xarchitecture:&quot;Legacy&quot;and&quot;Platform&quot;together=
"><span style=3D"color: rgb(0,0,0);text-decoration: none;">The &quot;real&q=
uot; version 5.x architecture: &quot;Legacy&quot; and &quot;Platform&quot; =
together</span></h3>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">The chapter abo=
ve is only explaining the new architecture but, as mentioned, version 5 als=
o offers a way to run the <em>legacy</em> eZ Publish stack, in order to sim=
plify upgrade and switch to version 5. This result in the end in a more sop=
histicated architecture that is illustrated in the diagram below.</span></p=
>
<p><br /><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</s=
pan><img class=3D"confluence-embedded-image confluence-external-resource" w=
idth=3D"500" src=3D"https://lh4.googleusercontent.com/-HnGbujQWt5MWUdOYkKK_=
6nBj3sc-vaFEuSzRPaEto-Hi_LRqKQZcf014eJ2e0be8P4yVwfAq8D4y0A4p2PahKy9f6Kd3gDM=
v0A0X1lwNhV8HDu-0IJ2" data-image-src=3D"https://lh4.googleusercontent.com/-=
HnGbujQWt5MWUdOYkKK_6nBj3sc-vaFEuSzRPaEto-Hi_LRqKQZcf014eJ2e0be8P4yVwfAq8D4=
y0A4p2PahKy9f6Kd3gDMv0A0X1lwNhV8HDu-0IJ2" /><span style=3D"color: rgb(0,0,0=
);text-decoration: none;">&nbsp;</span><br /><span style=3D"color: rgb(0,0,=
0);text-decoration: none;">&nbsp;</span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">The main differ=
ence is, <strong>the cohabitation</strong> between the new architecture exp=
lained in the previous chapter (on the right) and the previous architecture=
 (on the left).</span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">If we look at t=
he old architecture, we can see that it is more monolithic: no defined publ=
ic PHP API, a business logic implemented in the kernel but very dependent o=
f the storage system and the underlying data model, an existing rest api bu=
t limited to read access to the content repository.</span><br /><span style=
=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</span></p>
<p><strong><span style=3D"color: rgb(0,0,0);text-decoration: none;">This wh=
ole legacy architecture is in its whole included with version 5, and can be=
 used as is.</span></strong></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">This means that=
, for people having developed 4.x websites and that are reluctant to invest=
 time in migrating or even learning the new architecture components, they c=
an use version 5 exactly as they were using version 4. Even the controller =
(access to the application through the web server) can totally bypass the n=
ew architecture (in that case the Symfony framework controller) and directl=
y call the legacy eZ Publish controller and the legacy template engine.</sp=
an></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</span></=
p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">On its side, th=
e new architecture has been implemented, and eZ will implement new features=
 and applications on top of it subsequently. So, as part of 5.0, the new ar=
chitecture is in place, but does not provide yet the full application scope=
.</span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</span></=
p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">What is more in=
teresting to understand is how these two integrate:</span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</span></=
p>
<ol>
<li><span style=3D"color: rgb(0,0,0);text-decoration: none;">First on the p=
resentation side, the new eZ Publish 5 controller makes it <strong>possible=
 to serve pages and functions that are either resulting from the new templa=
te engine or the legacy template engine</strong>. This is a first level of =
dual compatibility that will help developers in a smooth transition from on=
e architecture to the other, starting with legacy templates and progressive=
ly replacing them with templates for the new system, Twig.</span><br /><spa=
n style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</span></li>
<li><span style=3D"color: rgb(0,0,0);text-decoration: none;">Second, on the=
 api side, the&nbsp;<span style=3D"color: rgb(0,0,0);text-decoration: none;=
"><span style=3D"color: rgb(0,0,0);text-decoration: none;"><span style=3D"c=
olor: rgb(0,0,0);text-decoration: none;"><a href=3D"/display/EZP/Public+API=
+basics">Public API</a></span></span></span> has been designed to work agai=
nst the business logic and <strong>to be used either on top of the legacy s=
torage or on top of the new storage system</strong>. This means that, by im=
plementing the new architecture and embracing the PHP Public API, developer=
s enable <strong>an easy transition from the old data model to the new one.=
</strong> &nbsp;An extension developed on top of the&nbsp;<span style=3D"co=
lor: rgb(0,0,0);text-decoration: none;"><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;"><span style=3D"color: rgb(0,0,0);text-decoration: non=
e;"><a href=3D"/display/EZP/Public+API+basics">Public API</a></span></span>=
</span> will equally work on an old content repository or on a brand new on=
e based on the new architecture.</span></li>
</ol>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</span></=
p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">These two ways =
to implement a compatibility between the past architecture and the new one =
offers a wide range of possibilities and a smooth transition path.</span></=
p>
<h2 id=3D"eZPublish5Architecture-Introduction&amp;Overview-Summaryontheways=
touseeZPublish5"><span style=3D"color: rgb(0,0,0);text-decoration: none;">S=
ummary on the ways to use eZ Publish 5</span></h2>
<h3 id=3D"eZPublish5Architecture-Introduction&amp;Overview-UsingeZPublish5i=
nfulllegacymode"><span style=3D"color: rgb(0,0,0);text-decoration: none;">U=
sing eZ Publish 5 in full legacy mode</span></h3>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">This way is the=
 less disruptive. In this way, eZ Publish 5.0 totally behave as if it was a=
n eZ Publish 4.7, or we should say 4.8. This is ideal for users who have la=
rge existing applications with large amount of data and who are not willing=
 to invest in learning and migrating them immediately.</span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</span></=
p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">In this way, ev=
en the siteaccess and vhost configuration bypass the legacy stack, and deve=
lopers will see almost no differences.</span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</span><i=
mg class=3D"confluence-embedded-image confluence-external-resource" width=
=3D"500" src=3D"https://lh6.googleusercontent.com/Ad_iBlE0hJCQMJT8WGO5-6Hvx=
1OxMt5xJCMNZVgJ5kL_4_Gp-TCi5_Zd5DMz0LZXv8AY3hrPvmtQtY2Qh_lheRF9Oa76iwSMRs6d=
MyWhotL4hvIPCB5R" data-image-src=3D"https://lh6.googleusercontent.com/Ad_iB=
lE0hJCQMJT8WGO5-6Hvx1OxMt5xJCMNZVgJ5kL_4_Gp-TCi5_Zd5DMz0LZXv8AY3hrPvmtQtY2Q=
h_lheRF9Oa76iwSMRs6dMyWhotL4hvIPCB5R" /><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">&nbsp;</span></p>
<p><br /><span style=3D"color: rgb(102,102,102);text-decoration: none;">&nb=
sp;</span></p>
<h3 id=3D"eZPublish5Architecture-Introduction&amp;Overview-Usingezpublish5.=
0throughthelegacystackbutrelyingonthenewcontrollerandnewtemplatesystemaswel=
lasthenewkernel."><span style=3D"color: rgb(0,0,0);text-decoration: none;">=
Using ez publish 5.0 through the legacy stack but relying on the new contro=
ller and new template system as well as the new kernel.</span></h3>
<p><br /><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</s=
pan></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">This way offers=
 a transition and allows to combine old template and new templates in the s=
ame application. In this case, the users will rely on the administration in=
terface of eZ Publish as well as on the ez tool bar for front-end editing, =
through the legacy templates, but the front end will be either based on leg=
acy or new twig based templates.</span></p>
<p><br /><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</s=
pan></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">In this model, =
the two kernels can be used and the system can this way benefit from the Pu=
blic API and the new REST API built on top.</span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</span><i=
mg class=3D"confluence-embedded-image confluence-external-resource" width=
=3D"500" src=3D"https://lh5.googleusercontent.com/Lk9x17V7USgSzT537l_PBhrPF=
WQzQXev9LkK5PwBDXSGHD2H5CGAAobyk5kCTJ_QOgZj0LptwkiNA31kykr9QcY9fFFFakkHBXbN=
M1NgRsMduk-XrpJA" data-image-src=3D"https://lh5.googleusercontent.com/Lk9x1=
7V7USgSzT537l_PBhrPFWQzQXev9LkK5PwBDXSGHD2H5CGAAobyk5kCTJ_QOgZj0LptwkiNA31k=
ykr9QcY9fFFFakkHBXbNM1NgRsMduk-XrpJA" /><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">&nbsp;</span></p>
<h3 id=3D"eZPublish5Architecture-Introduction&amp;Overview-Usingthebrandnew=
&quot;Platform&quot;architectureonly"><span style=3D"color: rgb(102,102,102=
);text-decoration: none;"><span style=3D"color: rgb(0,0,0);">Using the bran=
d new &quot;Platform&quot;architecture only</span> </span></h3>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">This case is th=
e one that will deliver very strong improvements in scalability and perform=
ance, in this case the whole new architecture is used and there is no way t=
o reuse components from the legacy architecture. </span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</span></=
p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">This means that=
:</span></p>
<ul>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">the administration interface is not available in 5.0<=
/span></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">existing templates and site won't run without having =
been migrated</span></p></li>
<li style=3D"text-decoration: none;"><p><span style=3D"color: rgb(0,0,0);te=
xt-decoration: none;">the old storage system is not used any more</span></p=
></li>
</ul>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;<em>Note:=
 because of these restrictions, a new storage engine has not been made yet.=
 Similar setup can use the &quot;Legacy storage engine&quot; for the time b=
eing to be ready to migrate data and not have to change code when a new eng=
ine is added in the future.</em></span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">While this migh=
t sound restricting for the time being, it is clearly the foundation of the=
 future of eZ Publish. </span></p>
<p><span style=3D"color: rgb(0,0,0);text-decoration: none;">In the context =
of eZ Publish 5, it can be useful for new projects relying only on the conc=
ept of &quot;content as a service&quot; the platform is a high performance =
and scalability content repository with very advanced services but provide =
no editorial user interface. for traditional content management.</span></p>
<p><br /><span style=3D"color: rgb(0,0,0);text-decoration: none;">&nbsp;</s=
pan><img class=3D"confluence-embedded-image confluence-external-resource" w=
idth=3D"500" src=3D"https://lh4.googleusercontent.com/f-3X7xtnw6j-powG51msj=
XYT1HrJy4fah-bEK0lsmgxGrMiBixIoX9sQw78tjyNKD7xNqwauoDJJj4BJjl1XJoCcAvNKEp-T=
ceIw5yKyJv7WlBmUi03g" data-image-src=3D"https://lh4.googleusercontent.com/f=
-3X7xtnw6j-powG51msjXYT1HrJy4fah-bEK0lsmgxGrMiBixIoX9sQw78tjyNKD7xNqwauoDJJ=
j4BJjl1XJoCcAvNKEp-TceIw5yKyJv7WlBmUi03g" /></p>=20
<div class=3D"aui-message hint shadowed information-macro">=20
<p class=3D"title">Video : Overview of the eZ Publish 5 architecture</p>=20
<span class=3D"aui-icon icon-hint">Icon</span>=20
<div class=3D"message-content">=20
<p>&nbsp;Learn more with this video :</p>
<p><iframe class=3D"youtube-player" type=3D"text/html" style=3D"width: 400p=
x; height: 300px" src=3D"//www.youtube.com/embed/cJmor1gQj1c?wmode=3Dopaque=
" frameborder=3D"0"> </iframe> </p>=20
</div>=20
</div>
    </div>
</body>
</html>
------=_Part_697_360124709.1413876294699--
