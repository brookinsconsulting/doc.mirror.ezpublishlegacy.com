Message-ID: <895563809.754.1413881504699.JavaMail.confluence@ip-10-127-227-192>
Subject: Exported From Confluence
MIME-Version: 1.0
Content-Type: multipart/related; 
	boundary="----=_Part_753_1243286217.1413881504698"

------=_Part_753_1243286217.1413881504698
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-Location: file:///C:/exported.html

<html xmlns:o=3D'urn:schemas-microsoft-com:office:office'
      xmlns:w=3D'urn:schemas-microsoft-com:office:word'
      xmlns:v=3D'urn:schemas-microsoft-com:vml'
      xmlns=3D'urn:w3-org-ns:HTML'>
<head>
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf-8=
">
    <title>Installing eZ Publish on a Linux-UNIX based system</title>
    <!--[if gte mso 9]>
    <xml>
        <o:OfficeDocumentSettings>
            <o:TargetScreenSize>1024x640</o:TargetScreenSize>
            <o:PixelsPerInch>72</o:PixelsPerInch>
            <o:AllowPNG/>
        </o:OfficeDocumentSettings>
        <w:WordDocument>
            <w:View>Print</w:View>
            <w:Zoom>90</w:Zoom>
            <w:DoNotOptimizeForBrowser/>
        </w:WordDocument>
    </xml>
    <![endif]-->
    <style>
                <!--
        @page Section1 {
            size: 8.5in 11.0in;
            margin: 1.0in;
            mso-header-margin: .5in;
            mso-footer-margin: .5in;
            mso-paper-source: 0;
        }

        td {
            page-break-inside: avoid;
        }

        tr {
            page-break-after: avoid;
        }

        div.Section1 {
            page: Section1;
        }

        /* Confluence print stylesheet. Common to all themes for print medi=
a */
/* Full of !important until we improve batching for print CSS */

#main {
    padding-bottom: 1em !important; /* The default padding of 6em is too mu=
ch for printouts */
}

body {
    font-family: Arial, Helvetica, FreeSans, sans-serif;
    font-size: 10pt;
    line-height: 1.2;
}

body, #full-height-container, #main, #page, #content, .has-personal-sidebar=
 #content {
    background: #fff    !important;
    color: #000         !important;
    border: 0           !important;
    width: 100%         !important;
    height: auto        !important;
    min-height: auto    !important;
    margin: 0           !important;
    padding: 0          !important;
    display: block      !important;
}

a, a:link, a:visited, a:focus, a:hover, a:active {
    color: #000;
}
#content h1,
#content h2,
#content h3,
#content h4,
#content h5,
#content h6 {
    font-family: Arial, Helvetica, FreeSans, sans-serif;
    page-break-after: avoid;
}
pre {
    font-family: Monaco, "Courier New", monospace;
}

#header,
.aui-header-inner,
#navigation,
#sidebar,
.sidebar,
#personal-info-sidebar,
.ia-fixed-sidebar,
.page-actions,
.navmenu,
.ajs-menu-bar,
.noprint,
.inline-control-link,
.inline-control-link a,
a.show-labels-editor,
.global-comment-actions,
.comment-actions,
.quick-comment-container,
#addcomment {
    display: none !important;
}

.comment .date::before {
    content: none !important; /* remove middot for print view */
}

h1.pagetitle img {
    height: auto;
    width: auto;
}

.print-only {
    display: block;
}
#footer {
    position: relative !important; /* CONF-17506 Place the footer at end of=
 the content */
    margin: 0;
    padding: 0;
    background: none;
    clear: both;
}

#poweredby {
    border-top: none;
    background: none;
}

#poweredby li.print-only {
    display: list-item;
    font-style: italic;
}

#poweredby li.noprint {
    display:none;
}


/* no width controls in print */
.wiki-content .table-wrap,
.wiki-content p,
.panel .codeContent,
.panel .codeContent pre,
.image-wrap {
    overflow: visible !important;
}

/* TODO - should this work? */
#children-section,
#comments-section .comment,
#comments-section .comment .comment-body,
#comments-section .comment .comment-content,
#comments-section .comment p {
    page-break-inside: avoid;
}

#page-children a {
    text-decoration: none;
}

/**
 hide twixies

 the specificity here is a hack because print styles
 are getting loaded before the base styles. */
#comments-section.pageSection .section-header,
#comments-section.pageSection .section-title,
#children-section.pageSection .section-header,
#children-section.pageSection .section-title,
.children-show-hide {
    padding-left: 0;
    margin-left: 0;
}

.children-show-hide.icon {
    display: none;
}

/* personal sidebar */
.has-personal-sidebar #content {
    margin-right: 0px;
}

.has-personal-sidebar #content .pageSection {
    margin-right: 0px;
}
-->
    </style>
</head>
<body>
    <h1>Installing eZ Publish on a Linux-UNIX based system</h1>
    <div class=3D"Section1">
        <div class=3D"aui-message warning shadowed information-macro">=20
<span class=3D"aui-icon icon-warning">Icon</span>=20
<div class=3D"message-content">
 The requirements for doing a normal installation must be met, read the &qu=
ot;
<a href=3D"/display/EZP/Requirements+for+doing+a+normal+installation">Requi=
rements for doing a normal installation</a>&quot; section first!=20
</div>=20
</div>=20
<p>This section will guide you through the following steps:</p>
<p><style type=3D"text/css">/*<![CDATA[*/
div.rbtoc1413881504535 {padding: 0px;}
div.rbtoc1413881504535 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1413881504535 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p>
<div class=3D"toc-macro rbtoc1413881504535">=20
<ul class=3D"toc-indentation">=20
<li><span class=3D"TOCOutline">1</span> <a href=3D"#InstallingeZPublishonaL=
inux-UNIXbasedsystem-SettingupadatabaseYellow5.x">Setting up a database 5.X=
</a>=20
<ul class=3D"toc-indentation">=20
<li><span class=3D"TOCOutline">1.1</span> <a href=3D"#InstallingeZPublishon=
aLinux-UNIXbasedsystem-MySQL">MySQL</a></li>=20
<li><span class=3D"TOCOutline">1.2</span> <a href=3D"#InstallingeZPublishon=
aLinux-UNIXbasedsystem-PostgreSQL">PostgreSQL</a></li>=20
</ul> </li>=20
<li><span class=3D"TOCOutline">2</span> <a href=3D"#InstallingeZPublishonaL=
inux-UNIXbasedsystem-DownloadingeZPublishYellow5.x">Downloading eZ Publish =
5.X</a></li>=20
<li><span class=3D"TOCOutline">3</span> <a href=3D"#InstallingeZPublishonaL=
inux-UNIXbasedsystem-UnpackingeZPublishYellow5.x">Unpacking eZ Publish 5.X<=
/a></li>=20
<li><span class=3D"TOCOutline">4</span> <a href=3D"#InstallingeZPublishonaL=
inux-UNIXbasedsystem-SettingupfolderpermissionYellow5.x">Setting up folder =
permission 5.X</a></li>=20
<li><span class=3D"TOCOutline">5</span> <a href=3D"#InstallingeZPublishonaL=
inux-UNIXbasedsystem-InstallComposerYellow5.x">Install Composer 5.X</a>=20
<ul class=3D"toc-indentation">=20
<li><span class=3D"TOCOutline">5.1</span> <a href=3D"#InstallingeZPublishon=
aLinux-UNIXbasedsystem-For5.3andhigher:getlatestversionsofpackagesRed&gt;=
=3D5.3/2014.05">For 5.3 and higher : get latest versions of packages &gt;=
=3D 5.3 / 2014.05</a></li>=20
<li><span class=3D"TOCOutline">5.2</span> <a href=3D"#InstallingeZPublishon=
aLinux-UNIXbasedsystem-For5.2:forSymfonyanditsdependenciesGreen5.2">For 5.2=
 : for Symfony and its dependencies 5.2</a></li>=20
</ul> </li>=20
<li><span class=3D"TOCOutline">6</span> <a href=3D"#InstallingeZPublishonaL=
inux-UNIXbasedsystem-Forall5.xversions:InstallZetacomponentsforapurelegacys=
etupYellow5.x">For all 5.x versions : Install Zetacomponents for a pure leg=
acy setup 5.X</a></li>=20
<li><span class=3D"TOCOutline">7</span> <a href=3D"#InstallingeZPublishonaL=
inux-UNIXbasedsystem-Before5.2:Linkassets&lt;5.2">Before 5.2 : Link assets =
&lt; 5.2</a></li>=20
<li><span class=3D"TOCOutline">8</span> <a href=3D"#InstallingeZPublishonaL=
inux-UNIXbasedsystem-InitiatingthesetupwizardYellow5.x">Initiating the setu=
p wizard 5.X</a></li>=20
</ul>=20
</div>
<p></p>=20
<div class=3D"aui-message hint shadowed information-macro">=20
<span class=3D"aui-icon icon-hint">Icon</span>=20
<div class=3D"message-content">
 Follow the status labels for the right version :=20
<em><strong><span class=3D"status-macro aui-lozenge aui-lozenge-current">5.=
X</span></strong></em>=20
<em><strong><em><strong><span class=3D"status-macro aui-lozenge">5.0</span>=
 <em><strong><span class=3D"status-macro aui-lozenge">5.1</span><em><strong=
> <span class=3D"status-macro aui-lozenge aui-lozenge-success">5.2</span></=
strong></em></strong></em></strong></em></strong></em>&nbsp;=20
<em><strong><span class=3D"status-macro aui-lozenge aui-lozenge-error">&gt;=
=3D 5.3 / 2014.05</span></strong></em>=20
</div>=20
</div>=20
<h2 id=3D"InstallingeZPublishonaLinux-UNIXbasedsystem-SettingupadatabaseYel=
low5.x">Setting up a database<em><strong> <span class=3D"status-macro aui-l=
ozenge aui-lozenge-current">5.X</span></strong></em></h2>
<p>A <strong>database must be created</strong> before running the setup wiz=
ard. The following text explains how to set up a database using either MySQ=
L or PostgreSQL.</p>
<h3 id=3D"InstallingeZPublishonaLinux-UNIXbasedsystem-MySQL">MySQL</h3>
<ol>
<li>
<div>
<p>Log in as the root user (or any other MySQL user that has the <code>CREA=
TE</code>, <code>CREATE USER</code> and <code>GRANT OPTION</code> <a href=
=3D"http://dev.mysql.com/doc/refman/5.1/en/privileges-provided.html" class=
=3D"external-link" rel=3D"nofollow">privileges</a>):</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"theme: Eclipse; brush: bash; gutter: false" style=3D"font-siz=
e:12px;"># mysql --host=3D&lt;mysql_host&gt; --port=3D&lt;port&gt; -u &lt;m=
ysql_user&gt; -p&lt;mysql_password&gt;</pre>=20
</div>
</div>=20
<div class=3D"aui-message warning shadowed information-macro">=20
<span class=3D"aui-icon icon-warning">Icon</span>=20
<div class=3D"message-content">=20
<p>Note that if MySQL is installed on the same server, the &quot;<code>--ho=
st</code>&quot; parameter can be omitted. If the &quot;<code>--port</code>&=
quot; parameter is omitted, the default port for MySQL traffic will be used=
 (port 3306).</p>=20
</div>=20
</div>=20
<p>The MySQL client should display a &quot;mysql&gt;&quot; prompt.<br /><br=
 /></p>
</div></li>
<li>
<div>
<p>Create a new database:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>mysql&gt; CREATE DATABASE &lt;database&gt; CHARACTER SET utf8;</pre>=
=20
</div>
</div>
</div></li>
<li>
<div>
<p>Grant access permissions:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>mysql&gt; GRANT ALL ON &lt;database&gt;.* TO &lt;user&gt;@&lt;ezp_host=
&gt; IDENTIFIED BY '&lt;password&gt;';</pre>=20
</div>
</div>=20
<div class=3D"aui-message warning shadowed information-macro">=20
<span class=3D"aui-icon icon-warning">Icon</span>=20
<div class=3D"message-content">=20
<p>Note that if the specified user account does not exist, it will be creat=
ed.</p>=20
</div>=20
</div>=20
<div class=3D"table-wrap">
<table class=3D"confluenceTable">
<tbody>
<tr>
<th class=3D"confluenceTh">Reference</th>
<th class=3D"confluenceTh">Description</th>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;mysql_host&gt;</td>
<td class=3D"confluenceTd">The hostname of the MySQL database server.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;port&gt;</td>
<td class=3D"confluenceTd">The port number that will be used to connect to =
the MySQL database server.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;mysql_user&gt;</td>
<td class=3D"confluenceTd">The MySQL user (if no user is set up, use &quot;=
<code>root</code>&quot;).</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;mysql_password&gt;</td>
<td class=3D"confluenceTd">The password that belongs to the <code>&lt;mysql=
_user&gt;</code>.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;database&gt;</td>
<td class=3D"confluenceTd">The name of the database, for example &quot;<cod=
e>my_new_database</code>&quot;.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;user&gt;</td>
<td class=3D"confluenceTd">The username that will be used to access the dat=
abase.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;ezp_host&gt;</td>
<td class=3D"confluenceTd">The hostname of the server on which eZ Publish w=
ill be running. (may be &quot;<code>localhost</code>&quot; if MySQL is inst=
alled on the same server).</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;password&gt;</td>
<td class=3D"confluenceTd">The password you wish to set in order to limit a=
ccess to the database.</td>
</tr>
</tbody>
</table>
</div>
</div></li>
</ol>
<p><a name=3D"eztoc131657_1_2" rel=3D"nofollow"></a></p>
<h3 id=3D"InstallingeZPublishonaLinux-UNIXbasedsystem-PostgreSQL">PostgreSQ=
L</h3>
<ol>
<li>
<div>
<p>Log in as the postgres user (or any other PostgreSQL user that has suffi=
cient <a href=3D"http://www.postgresql.org/docs/current/interactive/sql-gra=
nt.html" class=3D"external-link" rel=3D"nofollow">privileges</a> to create =
roles and databases):</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>$ psql -h &lt;psql_host&gt; -p &lt;port&gt; -U &lt;psql_user&gt; -W</p=
re>=20
</div>
</div>=20
<div class=3D"aui-message warning shadowed information-macro">=20
<span class=3D"aui-icon icon-warning">Icon</span>=20
<div class=3D"message-content">=20
<p>Note that if PostgreSQL is installed on the same server, the &quot;<code=
>-h</code>&quot; parameter can be omitted. If the &quot;<code>-p</code>&quo=
t; parameter is omitted, the default port for PostgreSQL traffic will be us=
ed (in most cases, port 5432).</p>=20
</div>=20
</div>=20
<p>The PostgreSQL client will ask you to specify the password that belongs =
to the <code>&lt;psql_user&gt;</code>. If the password is correct, the clie=
nt should display a &quot;<code>&lt;psql_user&gt;=3D#</code>&quot; prompt.<=
/p>
</div></li>
<li>
<div>
<p>Create a new database:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>postgres=3D# CREATE DATABASE &lt;database&gt; ENCODING=3D'utf8';</pre>=
=20
</div>
</div>
</div></li>
<li>
<div>
<p>Create a new user:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>postgres=3D# CREATE USER &lt;user&gt; PASSWORD '&lt;password&gt;';</pr=
e>=20
</div>
</div>
</div></li>
<li>
<div>
<p>Grant access permissions:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>postgres=3D# GRANT ALL PRIVILEGES ON DATABASE &lt;database&gt; TO &lt;=
user&gt;;</pre>=20
</div>
</div>
<p>&nbsp;</p>
</div>
<div>
<p>Import the &quot;<a href=3D"http://www.postgresql.org/docs/8.3/static/pg=
crypto.html" class=3D"external-link" rel=3D"nofollow">pgcrypto</a>&quot; mo=
dule into the new database:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>postgres=3D# \c &lt;database&gt;
&lt;database&gt;=3D# \i '&lt;path_to_pgcrypto&gt;'</pre>=20
</div>
</div>
<div class=3D"table-wrap">
<table class=3D"confluenceTable">
<tbody>
<tr>
<th class=3D"confluenceTh">Reference</th>
<th class=3D"confluenceTh">Description</th>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;psql_host&gt;</td>
<td class=3D"confluenceTd">The hostname of the PostgreSQL database server.<=
/td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;port&gt;</td>
<td class=3D"confluenceTd">The port number that will be used to connect to =
the PostgreSQL database server.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;psql_user&gt;</td>
<td class=3D"confluenceTd">The PostgreSQL user (if no user is set up, use &=
quot;<code>postgresql</code>&quot;).</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;database&gt;</td>
<td class=3D"confluenceTd">The name of the database, for example &quot;<cod=
e>my_new_database</code>&quot;.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;user&gt;</td>
<td class=3D"confluenceTd">The username that will be used to access the dat=
abase.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;password&gt;</td>
<td class=3D"confluenceTd">The password you wish to set in order to limit a=
ccess to the database.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;path_to_pgcrypto&gt;</td>
<td class=3D"confluenceTd">The path to the &quot;<code>pgcrypto.sql</code>&=
quot; file, for example &quot;<code>/usr/share/pgsql/contrib/pgcrypto.sql</=
code>&quot;.</td>
</tr>
</tbody>
</table>
</div>
<strong><br />Note for version 9.1+ of PostgreSQL users:</strong>The follow=
ing changes might be necessary for these users:
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>postgres=3D# \c &lt;database&gt;
&lt;database&gt;=3D# CREATE EXTENSION pgcrypto;</pre>=20
</div>
</div>
</div></li>
</ol>
<h2 id=3D"InstallingeZPublishonaLinux-UNIXbasedsystem-DownloadingeZPublishY=
ellow5.x">Downloading eZ Publish <em><strong><span class=3D"status-macro au=
i-lozenge aui-lozenge-current">5.X</span></strong></em></h2>=20
<div class=3D"aui-message hint shadowed information-macro">=20
<span class=3D"aui-icon icon-hint">Icon</span>=20
<div class=3D"message-content">
 The latest community version of eZ Publish can be downloaded from=20
<a href=3D"http://share.ez.no/downloads" class=3D"external-link" rel=3D"nof=
ollow">http://share.ez.no/downloads</a>=20
</div>=20
</div>=20
<p>Enterprise version is available in your <a href=3D"https://support.ez.no=
" class=3D"external-link" rel=3D"nofollow">support portal</a> or via partne=
r portal.</p>
<h2 id=3D"InstallingeZPublishonaLinux-UNIXbasedsystem-UnpackingeZPublishYel=
low5.x">Unpacking eZ Publish <em><strong><span class=3D"status-macro aui-lo=
zenge aui-lozenge-current">5.X</span></strong></em></h2>
<p>Use your favorite tool to unpack the downloaded eZ Publish distribution =
to a web-served directory (a directory that is reachable using a web browse=
r), or in case of virtual host mode it can be any folder. <br />The followi=
ng example shows how to do this using the tar utility (to unpack a tar.gz f=
ile, assuming that the &quot;tar&quot; and the &quot;gzip&quot; utilities a=
re installed on the system):</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>$ tar zxvf ezpublish-&lt;version_number&gt;-gpl.tar.gz -C &lt;web_serv=
ed_directory&gt;</pre>=20
</div>
</div>
<div class=3D"table-wrap">
<table class=3D"confluenceTable">
<tbody>
<tr>
<th class=3D"confluenceTh">Reference</th>
<th class=3D"confluenceTh">Description</th>
</tr>
<tr>
<td class=3D"confluenceTd"><code>&lt;version_number&gt;</code></td>
<td class=3D"confluenceTd">The version number of eZ Publish that was downlo=
aded.</td>
</tr>
<tr>
<td class=3D"confluenceTd"><code>&lt;web_served_directory&gt;</code></td>
<td class=3D"confluenceTd">Full path to a directory that is served by the w=
eb server. This can be the path to the document root of the web server, or =
a personal web-directory (usually called &quot;<code>public_html</code>&quo=
t; or &quot;<code>www</code>&quot;, and located inside a user's home direct=
ory).</td>
</tr>
</tbody>
</table>
</div>
<p>&nbsp;</p>
<p>The extraction utility will unpack eZ Publish into a sub-directory calle=
d &quot;<code>ezpublish-&lt;version_number&gt;</code>&quot;. Feel free to r=
ename this directory to something more meaningful, for example &quot;<code>=
my_site</code>&quot;.</p>
<p><a name=3D"eztoc131657_4" rel=3D"nofollow"></a></p>
<h2 id=3D"InstallingeZPublishonaLinux-UNIXbasedsystem-Settingupfolderpermis=
sionYellow5.x">Setting up folder permission<em><strong> <span class=3D"stat=
us-macro aui-lozenge aui-lozenge-current">5.X</span></strong></em></h2>=20
<div class=3D"aui-message warning shadowed information-macro">=20
<p class=3D"title">Important</p>=20
<span class=3D"aui-icon icon-warning">Icon</span>=20
<div class=3D"message-content">=20
<p>In the 3 first folder permission setup options, always ensure to run app=
lication scripts and the web server with the appropriate UNIX user (must be=
 same as you setup rights for below).</p>
<p>As for Apache you can control which user to use in your Apache configura=
tion. Using <a href=3D"http://php.net/manual/en/install.fpm.php" style=3D"l=
ine-height: 1.4285715;" class=3D"external-link" rel=3D"nofollow">PHP-FPM</a=
> or <a href=3D"http://httpd.apache.org/docs/2.2/en/suexec.html" style=3D"l=
ine-height: 1.4285715;" class=3D"external-link" rel=3D"nofollow">SuExec mod=
ule</a>, you can even specify a user per virtual host.</p>=20
</div>=20
</div>=20
<p>Several cache, log and config folders must be writable both by the web s=
erver and the command line user, use <em>one</em> of the following alternat=
ives to do this:</p>
<ul>
<li><p><strong>Using ACL on a system that supports chmod +a</strong><br />T=
hese shell commands will give proper permission to the web server and comma=
nd line users.</p><p><em><strong>5.3 / 2014.05&nbsp;and higher: <span class=
=3D"status-macro aui-lozenge aui-lozenge-error">&gt;=3D 5.3 / 2014.05</span=
><br /></strong></em></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo chmod +a &quot;www-data allow delete,write,append,file_inherit,d=
irectory_inherit&quot; \
      ezpublish/{cache,logs,config,sessions} ezpublish_legacy/{design,exten=
sion,settings,var} web
    $ sudo chmod +a &quot;`whoami` allow delete,write,append,file_inherit,d=
irectory_inherit&quot; \
      ezpublish/{cache,logs,config,sessions} ezpublish_legacy/{design,exten=
sion,settings,var} web</pre>=20
</div>
</div><p><em><strong>5.0, 5.1 and 5.2: <em><strong><span class=3D"status-ma=
cro aui-lozenge">5.0</span> <em><strong><span class=3D"status-macro aui-loz=
enge">5.1</span><em><strong> <span class=3D"status-macro aui-lozenge aui-lo=
zenge-success">5.2</span></strong></em></strong></em></strong></em><br /></=
strong></em></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo chmod +a &quot;www-data allow delete,write,append,file_inherit,d=
irectory_inherit&quot; \
      ezpublish/{cache,logs,config} ezpublish_legacy/{design,extension,sett=
ings,var} web
    $ sudo chmod +a &quot;`whoami` allow delete,write,append,file_inherit,d=
irectory_inherit&quot; \
      ezpublish/{cache,logs,config} ezpublish_legacy/{design,extension,sett=
ings,var} web</pre>=20
</div>
</div><p><strong><br /></strong></p></li>
<li><p><strong>Using ACL on a system that does not support chmod +a<br /></=
strong>Some systems don't support chmod +a, but do support another utility =
called setfacl. You may need to enable ACL support on your partition and in=
stall setfacl before using it (as is the case with Ubuntu).<br /><em><stron=
g><em><strong>5.3 / 2014.05</strong></em>&nbsp;and higher: <em><strong><spa=
n class=3D"status-macro aui-lozenge aui-lozenge-error">&gt;=3D 5.3 / 2014.0=
5</span></strong></em><br /></strong></em></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo setfacl -R -m u:www-data:rwx -m u:www-data:rwx \
      ezpublish/{cache,logs,config,sessions} ezpublish_legacy/{design,exten=
sion,settings,var} web
    $ sudo setfacl -dR -m u:www-data:rwx -m u:`whoami`:rwx \
      ezpublish/{cache,logs,config,sessions} ezpublish_legacy/{design,exten=
sion,settings,var} web</pre>=20
</div>
</div><p><em><strong>5.0, 5.1 and 5.2: <em><strong><em><strong><span class=
=3D"status-macro aui-lozenge">5.0</span> <em><strong><span class=3D"status-=
macro aui-lozenge">5.1</span><em><strong> <span class=3D"status-macro aui-l=
ozenge aui-lozenge-success">5.2</span></strong></em></strong></em></strong>=
</em></strong></em><br /></strong></em></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo setfacl -R -m u:www-data:rwx -m u:www-data:rwx \
      ezpublish/{cache,logs,config} ezpublish_legacy/{design,extension,sett=
ings,var} web
    $ sudo setfacl -dR -m u:www-data:rwx -m u:`whoami`:rwx \
      ezpublish/{cache,logs,config} ezpublish_legacy/{design,extension,sett=
ings,var} web</pre>=20
</div>
</div></li>
<li><p><strong>Using chown on systems that don't support ACL</strong><br />=
Some systems don't support ACL at all. You will either need to set your web=
 server's user as the owner of the required directories.<br /><em><strong><=
em><strong>5.3 / 2014.05</strong></em>&nbsp;and higher: <em><strong><span c=
lass=3D"status-macro aui-lozenge aui-lozenge-error">&gt;=3D 5.3 / 2014.05</=
span></strong></em><br /></strong></em></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo chown -R www-data:www-data ezpublish/{cache,logs,config,sessions=
} ezpublish_legacy/{design,extension,settings,var} web
    $ sudo find {ezpublish/{cache,logs,config,sessions},ezpublish_legacy/{d=
esign,extension,settings,var},web} -type d | sudo xargs chmod -R 775
    $ sudo find {ezpublish/{cache,logs,config,sessions},ezpublish_legacy/{d=
esign,extension,settings,var},web} -type f | sudo xargs chmod -R 664</pre>=
=20
</div>
</div><p><em><strong>5.0, 5.1 and 5.2: <em><strong><em><strong><span class=
=3D"status-macro aui-lozenge">5.0</span> <em><strong><span class=3D"status-=
macro aui-lozenge">5.1</span><em><strong> <span class=3D"status-macro aui-l=
ozenge aui-lozenge-success">5.2</span></strong></em></strong></em></strong>=
</em></strong></em><br /></strong></em></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo chown -R www-data:www-data ezpublish/{cache,logs,config} ezpubli=
sh_legacy/{design,extension,settings,var} web
    $ sudo find {ezpublish/{cache,logs,config},ezpublish_legacy/{design,ext=
ension,settings,var},web} -type d | sudo xargs chmod -R 775
    $ sudo find {ezpublish/{cache,logs,config},ezpublish_legacy/{design,ext=
ension,settings,var},web} -type f | sudo xargs chmod -R 664</pre>=20
</div>
</div></li>
<li><p><strong>Using chmod</strong><br />If you can't use ACL and aren't al=
lowed to change owner, you can use chmod, making the files writable by ever=
ybody. Note that this method really isn't recommended as it allows any user=
 to do anything.<br /><em><strong><em><strong>5.3 / 2014.05</strong></em>&n=
bsp;and higher: <em><strong><span class=3D"status-macro aui-lozenge aui-loz=
enge-error">&gt;=3D 5.3 / 2014.05</span></strong></em><br /></strong></em><=
/p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo find {ezpublish/{cache,logs,config,sessions},ezpublish_legacy/{d=
esign,extension,settings,var},web} -type d | sudo xargs chmod -R 777
    $ sudo find {ezpublish/{cache,logs,config,sessions},ezpublish_legacy/{d=
esign,extension,settings,var},web} -type f | sudo xargs chmod -R 666</pre>=
=20
</div>
</div><p><em><strong>5.0, 5.1 and 5.2: <em><strong><em><strong><span class=
=3D"status-macro aui-lozenge">5.0</span> <em><strong><span class=3D"status-=
macro aui-lozenge">5.1</span><em><strong> <span class=3D"status-macro aui-l=
ozenge aui-lozenge-success">5.2</span></strong></em></strong></em></strong>=
</em></strong></em><br /></strong></em></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo find {ezpublish/{cache,logs,config},ezpublish_legacy/{design,ext=
ension,settings,var},web} -type d | sudo xargs chmod -R 777
    $ sudo find {ezpublish/{cache,logs,config},ezpublish_legacy/{design,ext=
ension,settings,var},web} -type f | sudo xargs chmod -R 666</pre>=20
</div>
</div></li>
</ul>
<h2 id=3D"InstallingeZPublishonaLinux-UNIXbasedsystem-InstallComposerYellow=
5.x">Install Composer <em><strong><span class=3D"status-macro aui-lozenge a=
ui-lozenge-current">5.X</span></strong></em></h2>
<p>If you use a version control system, take care of versioning the compose=
r.lock file.</p>
<p>Install <a href=3D"http://getcomposer.org/" class=3D"external-link" rel=
=3D"nofollow">Composer</a> by running one of the following command from you=
 eZ Publish root folder :</p>
<p>If you <strong>have curl</strong> installed:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>curl -sS https://getcomposer.org/installer | php</pre>=20
</div>
</div>
<p>If you <strong>don't have curl</strong> installed:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>php -r &quot;eval('?&gt;'.file_get_contents('https://getcomposer.org/i=
nstaller'));&quot;</pre>=20
</div>
</div>
<h3 id=3D"InstallingeZPublishonaLinux-UNIXbasedsystem-For5.3andhigher:getla=
testversionsofpackagesRed&gt;=3D5.3/2014.05">For 5.3 and higher : get lates=
t versions of packages <em><strong><span class=3D"status-macro aui-lozenge =
aui-lozenge-error">&gt;=3D 5.3 / 2014.05</span></strong></em></h3>
<p>When Composer is installed, run update to get latest versions of package=
s before you continue with installation.</p>=20
<div class=3D"aui-message hint shadowed information-macro">=20
<span class=3D"aui-icon icon-hint">Icon</span>=20
<div class=3D"message-content">
 Learn more on how to keep system further up to date&nbsp;=20
<a href=3D"/display/EZP/Using+Composer">Using Composer</a>=20
</div>=20
</div>=20
<h3 id=3D"InstallingeZPublishonaLinux-UNIXbasedsystem-For5.2:forSymfonyandi=
tsdependenciesGreen5.2">For 5.2 : for Symfony and its dependencies <em><str=
ong><em><strong><em><strong><em><strong><span class=3D"status-macro aui-loz=
enge aui-lozenge-success">5.2</span></strong></em></strong></em></strong></=
em></strong></em></h3>
<p>Use composer for Symfony and its dependencies only, not for eZ Publish a=
nd it's dependencies.<br /></p>
<div class=3D"panel" style=3D"border-width: 1px;">
<div class=3D"panelHeader" style=3D"border-bottom-width: 1px;">
<b>Symfony</b>
</div>
<div class=3D"panelContent">
 Symfony is a set of reusable=20
<strong>PHP components</strong>...and a=20
<strong>PHP framework</strong> for web projects.=20
<span style=3D"color: rgb(0,0,0);text-decoration: none;">Symfony is the PHP=
 framework under the platform to make developers lives easier</span>.=20
<div class=3D"aui-message hint shadowed information-macro">=20
<span class=3D"aui-icon icon-hint">Icon</span>=20
<div class=3D"message-content">=20
<p>See <a href=3D"/pages/viewpage.action?pageId=3D11403666">the architectur=
e documentation</a> to understand the role of Symfony in eZ Publish Platfor=
m.</p>=20
</div>=20
</div>=20
</div>
</div>
<p></p>
<p>&nbsp;</p>
<div>
<div>
<h2 id=3D"InstallingeZPublishonaLinux-UNIXbasedsystem-Forall5.xversions:Ins=
tallZetacomponentsforapurelegacysetupYellow5.x">For all 5.x versions : Inst=
all Zetacomponents for a pure legacy setup <em><strong><span class=3D"statu=
s-macro aui-lozenge aui-lozenge-current">5.X</span></strong></em></h2>
<p>As of eZ Publish 5.2, if you plan to use eZ Publish legacy <strong>only,=
</strong> as standalone (as in pointing apache to ezpublish_legacy folder o=
r extracting only ezpublish_legacy), then Zetacomponents must be installed =
if you don't already have it via PEAR.</p>
<p>After Composer installation (see above for Composer installation instruc=
tions) run the following command <strong>from the&nbsp;<em>ezpublish_legacy=
/</em>&nbsp;folder :</strong></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>php composer.phar install</pre>=20
</div>
</div>=20
<div class=3D"aui-message warning shadowed information-macro">=20
<span class=3D"aui-icon icon-warning">Icon</span>=20
<div class=3D"message-content">=20
<p>Composer will need GD to run.</p>=20
</div>=20
</div>=20
<p>&nbsp;</p>
</div>
</div>
<h2 id=3D"InstallingeZPublishonaLinux-UNIXbasedsystem-Before5.2:Linkassets&=
lt;5.2">Before 5.2 : Link assets <em><strong><em><strong><em><strong><span =
class=3D"status-macro aui-lozenge">&lt; 5.2</span><em><strong> </strong></e=
m></strong></em></strong></em></strong></em></h2>=20
<div class=3D"aui-message hint shadowed information-macro">=20
<span class=3D"aui-icon icon-hint">Icon</span>=20
<div class=3D"message-content">
 The download file should already have generated these assets for you as of=
 5.2 / 2013.07 during composer install, but in case file has been extracted=
 on Windows, make sure to run these commands.=20
</div>=20
</div>=20
<p>To be able to run eZ Publish 5 correctly, assets need to be exposed in t=
he public &quot;<code>web</code>&quot; folder.</p>
<p>The following commands will first symlink eZ Publish 5 assets in &quot;B=
undles&quot; and the second will symlink assets (design files like images, =
scripts and css, and files in var folder) &nbsp;from eZ Publish Legacy</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>cd /&lt;ezp5-root&gt;
php ezpublish/console assets:install --relative --symlink web
php ezpublish/console ezpublish:legacy:assets_install --relative --symlink =
web
php ezpublish/console assetic:dump --env=3Dprod web</pre>=20
</div>
</div>=20
<div class=3D"aui-message warning shadowed information-macro">=20
<span class=3D"aui-icon icon-warning">Icon</span>=20
<div class=3D"message-content">=20
<p><strong>Note</strong>: In both cases &quot;<code>web</code>&quot; is the=
 default folder and can be skipped from the command. For symlinks on the fi=
rst two commands you can either use --relative, --symlink, or none to get t=
he command to copy assets. However make sure to also update &quot;symfony-a=
ssets-install&quot; in composer.json if you prefer something else then --re=
lative which is the default.</p>
<p>Further information about alternative options is&nbsp;available&nbsp;wit=
h <code>-h</code> on each command, just like it is with the console itself =
using &quot;<code>php ezpublish/console </code><code style=3D"line-height: =
1.4285715;">-h</code>&quot;.</p>=20
</div>=20
</div>=20
<div class=3D"aui-message problem shadowed information-macro">=20
<p class=3D"title">Warning regarding APC usercache</p>=20
<span class=3D"aui-icon icon-problem">Icon</span>=20
<div class=3D"message-content">=20
<p>If you are planning to use APC usercache for eZ Publish Persistence cach=
e, please be sure to check the available notes <a href=3D"https://confluenc=
e.ez.no/display/EZP/Persistence+cache+configuration#Persistencecacheconfigu=
ration-APC" class=3D"external-link" rel=3D"nofollow">here</a>, before enter=
ing the setup wizard chapter.</p>=20
</div>=20
</div>=20
<h2 id=3D"InstallingeZPublishonaLinux-UNIXbasedsystem-Initiatingthesetupwiz=
ardYellow5.x">Initiating the setup wizard <em><strong><span class=3D"status=
-macro aui-lozenge aui-lozenge-current">5.X</span></strong></em></h2>
<p>The setup wizard can be started using a web browser immediately after th=
e previous steps (described in this section) are completed. It will be auto=
matically run the first time someone tries to access/browse the &quot;<code=
>/ezsetup</code>&quot; url.</p>
<p>&nbsp;</p>
    </div>
</body>
</html>
------=_Part_753_1243286217.1413881504698--
